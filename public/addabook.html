<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"> 

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script> 
    <link rel="stylesheet" href="./css/addabook.css" type="text/css">

    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    
    <!--<script type="text/javascript" src="./js/addabook.js"></script>-->


    <title>CUBEx Add a Book</title>
</head>

<body>
    <div class="container">
    
        <div class="well header">
            <div class="row">
                <div class="col-sm-4"></div>
                <div class="col-sm-4"> <img id="logo" src="/images/logos/logo01.JPG" alt="BookLogo"/></div>
                <div class="col-sm-4"></div>
            </div>
            
                
        </div>
        <br/>
                <div class="row">
                        <div class="col-lg-12 text-center">
                                <div class="panel panel-default">
                                    <div class="panel-heading"><h4>Add New Book</h4></div>
                                    <div class="panel-body addabook">
                                        <form class="create-update-form" action="/" method="POST">
                                            
                                            <fieldset>
                                            <div class="form-group">
                                                <label for="location">Location:</label>
                                                <select id="location">
                                                        <option value="2">Howard</option>
                                                        <option value="3">Jarvis</option>
                                                        <option value="4">Lunt</option>
                                                        <option value="5">Morse</option>
                                                        <option value="6">Loyola</option>
                                                        <option value="7">Granville</option>                                                        
                                                </select>
                                                <br/>
                                                <label for="title">Title:</label>
                                                <input id="titleInput" type="text" class="inline-block input-lg book" name="title">
                                                <br/>
                                                <label for="author">Author:</label>
                                                <input id="authorInput" type="text" class="inline-block input-lg author" name="author">    
                                                <br/>
                                                <label for="genre">Genre:</label>
                                                <select id="genre">
                                                        <option value="0">Arts &amp Photography</option>
                                                        <option value="1">Biographies &amp Memoirs</option>
                                                        <option value="2">Business &amp Money</option>
                                                        <option value="3">Calendars</option>
                                                        <option value="4">Children's Books</option>
                                                        <option value="5">Comics &ampGraphic Novels</option>
                                                        <option value="6">Computers &amp Technology</option>
                                                        <option value="7">Cookbooks</option>
                                                        <option value="8">Hobbies &amp Home</option>
                                                        <option value="9">Christian Books &amp Bibles</option>
                                                        <option value="10">Engineering &amp Transportation</option>
                                                        <option value="11">Health</option>
                                                        <option value="12">History</option>
                                                        <option value="13">Humor &amp Entertainment</option>
                                                        <option value="14">Law</option>
                                                        <option value="15">Literature &amp Fiction</option>
                                                        <option value="16">Medical Books</option>
                                                        <option value="17">Mystery, Thriller &amp Suspense</option>
                                                        <option value="18">Parenting &amp Relationships</option>
                                                        <option value="19">Politics &amp Social Sciences</option>
                                                        <option value="20">Reference</option>
                                                        <option value="21">Religion &amp Spirituality</option>
                                                        <option value="22">Romance</option>
                                                        <option value="23">Science &amp Math</option>
                                                        <option value="24">Science Fiction &amp Fantasy</option>
                                                        <option value="25">Self-Help</option>
                                                        <option value="26">Sports &amp Outdoors</option>
                                                        <option value="27">Teen &amp Young Adult</option>
                                                        <option value="28">Test Preparation</option>
                                                        <option value="29">Travel</option>                                                      
                                                </select>                                                                                           
                                            </div>
                                            <button id="addSubmit" type="submit" class="btn btn-primary btn-margin" data-toggle="modal" data-target="#modal1">Add Book</button>
                                            </fieldset>
                                        </form>
                                    </div>
                                </div>
                            </div>
                </div> <!--End Row-->

                <!-- Modal -->
                <div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Thank You For Your Contribution</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <label for="bookTitle">Book Title:</label>
                            <h1 id="bookTitle"></h5>
                            <label for="bookAuthor">Author:</label>
                            <h2 id="bookAuthor"></h3>
                        </div>
                        <div class="modal-footer">
                            <a href="/addbook" id="addMoreBooks" class="btn btn-secondary" >Add more Books</a>
                            <a href="/" class="btn btn-secondary">Home</a>
                        </div>
                        </div>
                    </div>
                </div>

</div>
        <!--End container -->
                <!--
                <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="panel panel-default">
                        <div class="panel-heading"><h4>Add New Meal</h4></div>
                        <div class="panel-body buttonSection">
                            <form class="create-update-form" action="/" method="POST">
                                <div class="form-group">
                                    <label for="bu">Recipe Name:</label>
                                    <input type="text" class="inline-block input-lg" name="burger_name">
                                </div>
                                <div class="form-group" class="radio-inline ">
                                    <input type="radio" name="devoured" value="0" checked>Make this Meal
                                    <input type="radio" name="devoured" value="1">Made this Meal
                                </div>
                                <button type="submit" class="btn btn-primary btn-margin ">Add Meal</button>
                            </form>
                        </div>
                    </div>
                </div>-->
                <div class="row">
                        <div class="col-lg-12 text-center">
                        <div class="well footer">
                            <img class="icon" src="./images/icons/if_facebook.png" alt="Facebook"/>
                            <img class="icon" src="./images/icons/if_github.png" alt="GITHUB"/>
                            <img class="icon" src="./images/icons/if_linkedin.png" alt="LinkedIn"/>
                            <img class="icon" src="./images/icons/if_twitter.png" alt="Twitter"/>
                        </div>
                </div>
                </div>

<script>
$(document).ready(function() {
    $("#addSubmit").on("click", function() {
        event.preventDefault();

        var newBook = {
            KioskId: $("#location").val(),
            title: $("#titleInput").val(),
            author: $("#authorInput").val(),
            genre: $("#genre").val()
        }

        console.log("This is the NEw Book: ", newBook);

        var currentURL = window.location.origin;
        $.post(currentURL + "/api/addBook", newBook, function(data) {
            $("#bookTitle").text(data.title);
            $("#bookAuthor").text(data.author);

        });
    });
});
</script>

</body>

</html>